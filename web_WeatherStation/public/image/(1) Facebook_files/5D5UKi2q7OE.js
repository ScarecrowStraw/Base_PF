if (self.CavalryLogger) { CavalryLogger.start_js(["Ks7G9Jj"]); }

__d("FeedComposerCometBody_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometBody_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"FeedComposerCometStatusAreaRelayForDraftjs_profile"},{args:null,kind:"FragmentSpread",name:"FeedComposerCometStatusAreaRelayForLexical_profile"},{args:null,kind:"FragmentSpread",name:"FeedComposerCometAttachmentAreaRenderer_profile"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometComposerBloodDonationsAttachmentArea_page"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_plus_category_display_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delegate_page_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometComposerUnifiedInterceptionPlugin_intercepts"}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("FeedComposerCometBody_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometBody_viewer",selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerCometStatusAreaRelayForDraftjs_viewer"},{args:null,kind:"FragmentSpread",name:"FeedComposerCometStatusAreaRelayForLexical_viewer"},{args:null,kind:"FragmentSpread",name:"CometComposerSmartComposeTypeaheadPlugin_nux"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("FeedComposerComet_composer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerComet_composer",selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerCometToolbar_composer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"can_viewer_see_workplace_minutiae_bar",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"FeedComposerComet_composer",fragmentName:"GeminiComposerMinutiaeBar_profileComposer",fragmentPropName:"profileComposer",kind:"ModuleImport"}],type:"FeedCometComposer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"FeedComposerComet_composer",fragmentName:"GeminiComposerMinutiaeBar_groupComposer",fragmentPropName:"groupComposer",kind:"ModuleImport"}],type:"GroupCometComposer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"can_viewer_see_workplace_toolbar_sprouts",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GeminiComposerDialogDualPaneLayout_composer"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FeedCometComposerSubmitButtonsFooter_composer"}],type:"FeedCometComposer",abstractKey:null};e.exports=a}),null);
__d("FeedComposerDefaultPrivacyQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5267431403274526"}),null);
__d("FeedComposerDefaultPrivacyQuery.graphql",["FeedComposerDefaultPrivacyQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerDefaultPrivacyQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerComet_defaultprivacy"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"FeedComposerDefaultPrivacyQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"DefaultPrivacyUser",kind:"LinkedField",name:"default_privacy_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_opt_in",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"nux_is_blocking",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"nux_preselect_dialog",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"nux_preselect_dialog_privacy_option",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PrivacyRowInput",kind:"LinkedField",name:"privacy_row_input",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deny",storageKey:null},{alias:null,args:null,concreteType:"PrivacyRowInputTargetingFields",kind:"LinkedField",name:"privacy_targeting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"targeted_publishing_fields",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tag_expansion_state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("FeedComposerDefaultPrivacyQuery_facebookRelayOperation"),metadata:{},name:"FeedComposerDefaultPrivacyQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FeedComposerComet_defaultprivacy.graphql",["FeedComposerDefaultPrivacyQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["viewer"],operation:b("FeedComposerDefaultPrivacyQuery.graphql")}},name:"FeedComposerComet_defaultprivacy",selections:[{alias:null,args:null,concreteType:"DefaultPrivacyUser",kind:"LinkedField",name:"default_privacy_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_opt_in",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometDefaultPrivacyNux_defaultprivacy"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("FeedComposerComet_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"FeedComposerComet_profile",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"id"},{args:[{kind:"Literal",name:"magic_uploads_context",value:"NEWS_FEED_COMPOSER"}],kind:"FragmentSpread",name:"CometComposerMagicUploadsAttachmentArea_profile"},{args:null,kind:"FragmentSpread",name:"CometComposerMediaAttachmentArea_profile"},{args:[{kind:"Variable",name:"scale",variableName:"scale"}],kind:"FragmentSpread",name:"CometComposerMinutiaeBar_profile"},{args:null,kind:"FragmentSpread",name:"FeedComposerCometBody_profile"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"delegate_page",plural:!1,selections:[a,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_plus_for_delegate_page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_plus_is_eligible_for_lwi",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_prefilled_blood_donation_attachment",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_product_tagging_apux_snoozed",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"publishing_tool_banner_profile",plural:!1,selections:[{args:null,documentName:"FeedComposerComet_profile",fragmentName:"PagesCometComposerPublishingToolBanner_page",fragmentPropName:"page",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_plus_category_display_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("FeedComposerComet_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerComet_scope",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerPrivacyScope_scope"},{args:null,kind:"FragmentSpread",name:"CometDefaultPrivacyNux_scope"},{args:null,kind:"FragmentSpread",name:"CometComposerIPSPlugin_scope"}],type:"PrivacyScope",abstractKey:null};e.exports=a}),null);
__d("FeedComposerComet_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerComet_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometComposerIPSPlugin_viewer"},{args:null,kind:"FragmentSpread",name:"FeedComposerCometBody_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("FeedComposerCometActiveAttachmentAreaHardcoded_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometActiveAttachmentAreaHardcoded_profile",selections:[{args:null,kind:"FragmentSpread",name:"useFeedComposerActiveAttachmentArea_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("FeedComposerCometAttachmentAreaRenderer_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedComposerCometAttachmentAreaRenderer_profile",selections:[{args:null,kind:"FragmentSpread",name:"FeedComposerCometActiveAttachmentAreaHardcoded_profile"}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("useFeedComposerActiveAttachmentArea_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFeedComposerActiveAttachmentArea_profile",selections:[{args:[{kind:"Literal",name:"magic_uploads_context",value:"NEWS_FEED_COMPOSER"}],kind:"FragmentSpread",name:"CometComposerMediaOrMagicUploadsAttachmentAreaWrapper_profile"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_plus_category_display_name",storageKey:null}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("getDeferredComposerMutationDataTransformer",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b,c,d,e){a.loadImmediately(function(a){a(b,c,d,e)})}}f["default"]=a}),66);
__d("useFeedComposerFeaturesGKGated",["cr:11107"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11107")}),98);
__d("CometComposerUnifiedInterceptionPluginDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferred")("CometComposerUnifiedInterceptionPlugin.react").__setRef("CometComposerUnifiedInterceptionPluginDeferred.react"));g["default"]=a}),98);
__d("useGetMessagesCometComposerInterceptTrigger",["JSResourceForInteraction","composerFooterAttachmentAreaChecker","composerFooterAttachmentAreaReducer","composerGetMessagesChecker","composerGetMessagesReducer","useCometLazyDialog","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("MessagingCometPagesComposerInterceptionDialog.react").__setRef("useGetMessagesCometComposerInterceptTrigger");function a(a){var b=a.sessionID,e=a.submitForm,f=a.targetID;a=c("useCometLazyDialog")(h);var g=a[0];c("useComposerViewStateReducer")(d("composerFooterAttachmentAreaReducer").composerFooterAttachmentAreaReducer,c("composerFooterAttachmentAreaChecker"));c("useComposerViewStateReducer")(c("composerGetMessagesReducer"),c("composerGetMessagesChecker"));return function(a){var c=a.publishPostHandler,d=a.viewState,h=a.viewStateDispatcher;if(d.isGetMessagesPost===!0){c();return}a=function(){h({type:"MESSAGING_ADD_GET_MESSAGES_BUTTON"}),h({footerAttachmentType:"GET_MESSAGES",type:"ACTIVATE_FOOTER_ATTACHMENT_TYPE"}),window.setTimeout(function(){return e(null,{isGetMessagesPost:!0})},0)};g({interceptionEntryPoint:"profile_plus_feed",onClose:c,onContinue:a,pageID:f,publishPostHandler:c,sessionID:b});return}}g["default"]=a}),98);
__d("CometComposerGetMessagesInterceptDefinition",["useGetMessagesCometComposerInterceptTrigger"],(function(a,b,c,d,e,f,g){"use strict";a={getIsEligible:function(a){return!0},interceptHandler:c("useGetMessagesCometComposerInterceptTrigger"),serverName:"MESSAGEPAGE",sproutName:"GET_MESSAGES"};g["default"]=a}),98);
__d("getFeedInterceptDefinitions",["CometComposerGetMessagesInterceptDefinition"],(function(a,b,c,d,e,f,g){"use strict";function a(){return[c("CometComposerGetMessagesInterceptDefinition")]}g["default"]=a}),98);
__d("useFeedComposerActiveAttachmentArea",["CometComposerAMAAttachmentAreaResource","CometComposerCommunityHelpDriveAttachmentAreaResource","CometComposerEventAttachmentAreaResource","CometComposerGetMessagesAttachmentAreaResource","CometComposerGetWhatsAppMessagesAttachmentAreaResource","CometComposerMajorLifeEventAttachmentAreaRendererResource","CometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react","CometComposerViewOnlyFeedAttachmentAreaResource","CometComposerWoodhengeSupportAttachmentAreaResource","CometRelay","ComposerLinkAttachmentAreaResource","ComposerLocationAttachmentAreaResource","ComposerPaidContentAttachmentAreaResource","ComposerPhoto3dAttachmentAreaResource","FBNoteComposerAttachmentResource","FeedComposerCometAnimatedImageAttachmentAreaResource","FeedComposerShareAttachmentRendererResource","JSResourceForInteraction","QuiltsCometComposerAttachmentAreaResource","cr:762","lazyLoadComponent","react","useFeedComposerActiveAttachmentArea_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("lazyLoadComponent")(c("FeedComposerShareAttachmentRendererResource")),k=c("lazyLoadComponent")(c("CometComposerGetMessagesAttachmentAreaResource")),l=c("lazyLoadComponent")(c("FeedComposerCometAnimatedImageAttachmentAreaResource")),m=c("lazyLoadComponent")(c("ComposerPhoto3dAttachmentAreaResource")),n=c("lazyLoadComponent")(c("CometComposerGetWhatsAppMessagesAttachmentAreaResource")),o=c("lazyLoadComponent")(c("CometComposerAMAAttachmentAreaResource")),p=c("lazyLoadComponent")(c("QuiltsCometComposerAttachmentAreaResource")),q=c("lazyLoadComponent")(c("FBNoteComposerAttachmentResource")),r=c("lazyLoadComponent")(c("CometComposerEventAttachmentAreaResource")),s=c("lazyLoadComponent")(c("CometComposerViewOnlyFeedAttachmentAreaResource")),t=c("lazyLoadComponent")(c("CometComposerWoodhengeSupportAttachmentAreaResource")),u=c("lazyLoadComponent")(c("ComposerLocationAttachmentAreaResource")),v=c("lazyLoadComponent")(c("ComposerLinkAttachmentAreaResource")),w=c("lazyLoadComponent")(c("ComposerPaidContentAttachmentAreaResource")),x=c("lazyLoadComponent")(c("CometComposerMajorLifeEventAttachmentAreaRendererResource")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("KnowledgeNoteComposerAttachmentResourceLazyLoaded").__setRef("useFeedComposerActiveAttachmentArea")),z=c("lazyLoadComponent")(c("CometComposerCommunityHelpDriveAttachmentAreaResource")),A=h!==void 0?h:h=b("useFeedComposerActiveAttachmentArea_profile.graphql");function a(a){var e=a.actorID,f=a.composerType;a=a.profile;var g=d("CometRelay").useFragment(A,a);return function(a){switch(a){case"AMA":return i.jsx(o,{});case"ANIMATED_IMAGE":return i.jsx(l,{});case"EVENT":return i.jsx(r,{});case"FB_NOTE":return i.jsx(q,{});case"GET_MESSAGES":return i.jsx(k,{mediaUploadLoggingMetadata:{composerEntrypoint:"feed",source:"newsfeed_composer"},pageCategoryName:g==null?void 0:g.profile_plus_category_display_name,pageName:g==null?void 0:g.name});case"GET_WHATSAPP_MESSAGES":return i.jsx(n,{mediaUploadLoggingMetadata:{composerEntrypoint:"feed",source:"newsfeed_composer"},pageCategoryName:g==null?void 0:g.profile_plus_category_display_name,pageName:g==null?void 0:g.name});case"KNOWLEDGE_NOTE":if(y!=null)return i.jsx(y,{});break;case"LOCATION":return i.jsx(u,{});case"LINK":return i.jsx(v,{});case"SHARE":return i.jsx(j,{composerType:f});case"LIFE_EVENT":return i.jsx(x,{});case"MEDIA":return i.jsx(c("CometComposerMediaOrMagicUploadsAttachmentAreaWrapper.react"),{composerEntrypoint:"feed",magicUploadsContext:"news_feed_composer",profileDataKey:g,videoUploadSource:"newsfeed_composer"});case"PAID_CONTENT":return i.jsx(w,{});case"PHOTO3D":return i.jsx(m,{});case"QUILT":return i.jsx(p,{mediaUploadLoggingMetadata:{composerEntrypoint:"feed",source:"newsfeed_composer"}});case"VIEW_ONLY_FEED_ATTACHMENT":return i.jsx(s,{feedLocation:"FEED_COMPOSER"});case"WOODHENGE_SUPPORT":return i.jsx(t,{profileID:e});case"COMMUNITY_HELP_DRIVE":return i.jsx(z,{});case"DISCUSSION_POST":return b("cr:762")!=null?i.jsx(b("cr:762"),{}):null}return null}}g["default"]=a}),98);
__d("FeedComposerCometActiveAttachmentAreaHardcoded.react",["CometRelay","FeedComposerCometActiveAttachmentAreaHardcoded_profile.graphql","react","useFeedComposerActiveAttachmentArea"],(function(a,b,c,d,e,f,g){"use strict";var h;d("react");var i=h!==void 0?h:h=b("FeedComposerCometActiveAttachmentAreaHardcoded_profile.graphql");function a(a){var b=a.activeAttachmentType,e=a.actorID,f=a.composerType;a=a.profile;a=d("CometRelay").useFragment(i,a);e=c("useFeedComposerActiveAttachmentArea")({actorID:e,composerType:f,profile:a});return e(b)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedComposerCometAttachmentAreaRenderer.react",["CometComposerAttachmentArea.react","CometRelay","FeedComposerCometActiveAttachmentAreaHardcoded.react","FeedComposerCometAttachmentAreaRenderer_profile.graphql","cr:1253","react","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("FeedComposerCometAttachmentAreaRenderer_profile.graphql");function a(a){var e=a.actorID,f=a.composerType,g=a.featureDefinitions,h=a.profile,k=a.useFeatureDefinitions,l=d("CometRelay").useFragment(j,h);return i.jsx("div",{className:"scb9dxdr qt6c0cv9 dflh9lhu jb3vyjys",children:i.jsx(c("CometComposerAttachmentArea.react"),{children:function(a){return k&&g!=null&&b("cr:1253")!=null?i.jsx(b("cr:1253"),{activeAttachmentType:a,featureDefinitions:g}):i.jsx(c("FeedComposerCometActiveAttachmentAreaHardcoded.react"),{activeAttachmentType:a,actorID:e,composerType:f,profile:l})}})})}a.displayName=a.name+" [from "+f.id+"]";e=c("withComposerViewStatePart")(a,function(a){return{useFeatureDefinitions:(a=a.useFeatureDefinitions)!=null?a:!1}});g["default"]=e}),98);
__d("FeedComposerCometBody.react",["CometComposerFooterAttachmentArea.react","CometComposerGetMessagesAttachmentArea.react","CometComposerUnifiedInterceptionPluginDeferred.react","CometComposerWoodhengeSupportAttachmentAreaResource","CometRelay","FeedComposerCometAttachmentAreaRenderer.react","FeedComposerCometBody_profile.graphql","FeedComposerCometBody_viewer.graphql","FeedComposerCometFormattedTextArea.react","FeedComposerCometStatusAreaRelayForDraftjs.react","FishbowlComposerPostAttachmentAreaResource","FundraiserForStoryAttachmentAreaResource","JSResourceForInteraction","cr:10959","cr:11061","cr:11558","cr:1363","cr:1394","cr:1575125","cr:1964555","cr:1992079","cr:2053","cr:2108","cr:4","cr:673","createComposerDeferredPlugin","emptyFunction","getFeedInterceptDefinitions","gkx","lazyLoadComponent","react","requireDeferred","useCometComposerMarkdown","useCometSATPDraftEditorRenderingProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=c("lazyLoadComponent")(c("CometComposerWoodhengeSupportAttachmentAreaResource")),l=c("lazyLoadComponent")(c("FundraiserForStoryAttachmentAreaResource")),m=c("lazyLoadComponent")(c("FishbowlComposerPostAttachmentAreaResource")),n=c("createComposerDeferredPlugin")(c("requireDeferred")("FeedComposerCometMentionsPlugin.react").__setRef("FeedComposerCometBody.react")),o=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerDelightsPlugin.react").__setRef("FeedComposerCometBody.react")),p=(e=b("cr:11558"))!=null?e:c("emptyFunction"),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerRoomsAttachmentArea.react").__setRef("FeedComposerCometBody.react")),r=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerLinksPlugin.react").__setRef("FeedComposerCometBody.react")),s=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerMisinformationLinkDetectorPlugin.react").__setRef("FeedComposerCometBody.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometComposerBloodDonationsAttachmentArea.react").__setRef("FeedComposerCometBody.react")),u=h!==void 0?h:h=b("FeedComposerCometBody_profile.graphql"),v=i!==void 0?i:i=b("FeedComposerCometBody_viewer.graphql");function a(a){var e=a.__CAN_USE_LEXICAL_RUNTIME_CHECK__,f=a.autoFocus,g=a.composerType,h=a.creationSessionID,i=a.featureDefinitions,w=a.isViewerFeed,x=a.onClose,y=a.placeholderText,z=a.profile$key,A=a.submitForm;a=a.viewer$key;var B=d("CometRelay").useFragment(u,z);z=d("CometRelay").useFragment(v,a);var C=B==null?void 0:B.id;a=c("useCometComposerMarkdown")({previewPanePosition:"BELOW_EDITOR"});var D=p({markdown:a}),E=c("useCometSATPDraftEditorRenderingProps")();e=b("cr:1394")!=null&&e===!0;var F=c("gkx")("1217157"),G=c("getFeedInterceptDefinitions")&&c("getFeedInterceptDefinitions")();A=c("CometComposerUnifiedInterceptionPluginDeferred.react")!==null&&c("gkx")("1755")&&(B==null?void 0:B.delegate_page_id)!=null&&(B==null?void 0:B.delegate_page_id.trim())!==""&&j.jsx(c("CometComposerUnifiedInterceptionPluginDeferred.react"),{interceptArgs:{sessionID:h,submitForm:A,targetID:B==null?void 0:B.delegate_page_id},interceptKey:B,interceptPluginDefinitions:G,unifiedInterceptionRequestData:{loggingEntryPoint:"PROFILE_PLUS_FEED",placement:"COMPOSER_POST_BUTTON",sessionID:h,targetID:B==null?void 0:B.delegate_page_id,targetType:"PROFILE_PLUS"}},"Intercept Plugin");return j.jsxs(j.Fragment,{children:[j.jsx(c("FeedComposerCometFormattedTextArea.react"),{children:e&&b("cr:1394")!=null?j.jsxs(j.Fragment,{children:[j.jsx(b("cr:1394"),{alwaysShrinkText:F,autoFocus:f,isViewerFeed:w,placeholderText:y,profile$key:B,viewer$key:z}),b("cr:1992079")!=null?j.jsx(b("cr:1992079"),{composerType:"feed"},"textPasteLogger"):null,j.jsx(n,{},"mentionsPlugin"),",",o!=null&&j.jsx(o,{},"delightsPlugin"),b("cr:673")!=null&&j.jsx(b("cr:673"),{},"hashtagsPlugin"),r!=null&&j.jsx(r,{},"linkPlugin"),b("cr:2053")!=null&&j.jsx(b("cr:2053"),{alwaysShrinkText:F},"emojiPlugin"),b("cr:1363")!=null&&j.jsx(b("cr:1363"),{},"dragAndDropPlugin"),A,j.jsx(s,{composerType:(G=g)!=null?G:"feed"},"misinformationLinkDetectorPlugin")]}):c("FeedComposerCometStatusAreaRelayForDraftjs.react")&&j.jsx(c("FeedComposerCometStatusAreaRelayForDraftjs.react"),{alwaysShrinkText:c("gkx")("1217157"),autoFocus:f,draftEditorRendering:(F=(e=(h=E)!=null?h:a==null?void 0:a.draftEditorProps)!=null?e:b("cr:1575125"))!=null?F:void 0,isViewerFeed:w,onClose:x,placeholderText:y,plugins:[b("cr:1992079")!=null?j.jsx(b("cr:1992079"),{composerType:"feed"},"textPasteLogger"):null,j.jsx(n,{},"mentionsPlugin"),o!=null&&j.jsx(o,{},"delightsPlugin"),j.jsx(b("cr:673"),{},"hashtagPlugin"),j.jsx(r,{},"linksPlugin"),b("cr:4")!=null?j.jsx(b("cr:4"),{},"workInclusiveLanguagePlugin"):null,b("cr:11061")!=null?j.jsx(b("cr:11061"),{ftEntIdentifier:B.id},"headlineSuggestionPlugin"):null,j.jsx(s,{composerType:(G=g)!=null?G:"feed"},"misinformationLinkDetectorPlugin"),b("cr:2108")!=null?j.jsx(b("cr:2108"),{},"richTextPlugin"):null,b("cr:1964555")!=null?j.jsx(b("cr:1964555"),{ftEntIdentifier:B.id,viewer$key:z},"typeaheadPlugin"):null,b("cr:10959")!==null?j.jsx(b("cr:10959"),{},"LinkPlugin"):null,A],profile$key:B,stripPastedStyles:a!==null?a.isActive:void 0,typingPerformanceAnnotations:D,viewer$key:z})}),j.jsx(c("FeedComposerCometAttachmentAreaRenderer.react"),{actorID:C,composerType:g,featureDefinitions:i,profile:B}),j.jsx(c("CometComposerFooterAttachmentArea.react"),{children:function(a){switch(a){case"FISHBOWL":return j.jsx(m,{});case"ROOM":return j.jsx(q,{});case"NONPROFIT":return j.jsx(l,{});case"WOODHENGE_SUPPORT":return j.jsx(k,{profileID:C});case"BLOOD_DONATIONS":return(B==null?void 0:B.delegate_page)!=null?j.jsx(t,{page:B.delegate_page}):null;case"GET_MESSAGES":return j.jsx(c("CometComposerGetMessagesAttachmentArea.react"),{mediaUploadLoggingMetadata:{composerEntrypoint:"timeline",source:"composer"},pageCategoryName:B==null?void 0:B.profile_plus_category_display_name,pageName:B==null?void 0:B.name})}return null}}),a==null?void 0:a.previewPane]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("composerValidateThrowbackAttachment",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b;b=Boolean((b=a.linkAttachment)==null?void 0:(b=b.goodwillCampaignInfo)==null?void 0:b.isThrowbackPost);return!b?null:((b=a.linkAttachment)==null?void 0:(a=b.linkPreview)==null?void 0:a.share_scrape_data)==null?h._(/*FBT_CALL*/"You cannot post while the memory is loading"/*FBT_CALL*/):null}g["default"]=a}),98);
__d("FeedComposerComet.react",["fbt","ix","BaseMultiStepContainer.react","BaseToasterStateManager","CometComposer.react","CometComposerFooterAddOn.react","CometComposerFooterAttachmentPluginTypes","CometComposerIPSPlugin.react","CometComposerMediaDropTarget.react","CometComposerMinutiaeBarLoading.react","CometComposerOnSubmitContext","CometComposerPreAttachmentArea.react","CometComposerPrivacyScope.react","CometComposerPushPageContext","CometComposerSavingIndicatorMask.react","CometComposerServerErrorMessage.react","CometDefaultPrivacyNux.react","CometHero.react","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","ComposerDefaultPrivacyUtils","FeedCometComposerSubmitButtonsFooter.react","FeedComposerCometBody.react","FeedComposerCometToolbar.react","FeedComposerComet_composer.graphql","FeedComposerComet_defaultprivacy.graphql","FeedComposerComet_profile.graphql","FeedComposerComet_scope.graphql","FeedComposerComet_viewer.graphql","JSResourceForInteraction","LWICometComposerUtils","ServerHTML.react","SilenceableErrorMessageUtils","SocialLearningComposerModuleTitleInput.react","TCometComposerTarget","TetraIcon.react","cometComposerAttachmentsEligibilityChecker","cometComposerDiscussionPostEligibilityChecker","cometComposerFooterAttachmentsEligibilityChecker","cometComposerFormattedTextEligibilityChecker","cometComposerMajorLifeEventsEligibilityChecker","cometComposerTaggerEligibilityChecker","cometComposerValidateMediaLimit","cometComposerValidateMediaUploadStarted","cometComposerValidateMediaUploadSuccess","cometComposerValidatePhoto3dAttachment","cometComposerValidateStatusTextLength","cometPushToast","composerRichTextTransformDeferred","composerValidateGetMessagesMustContainMedia","composerValidateGetWhatsAppMessagesMustContainMedia","composerValidateLifeEventPost","composerValidateThrowbackAttachment","cr:10961","cr:10962","cr:1181","cr:1439","cr:1575126","cr:1606271","cr:1786994","cr:213","cr:2196","cr:741","decorateMultiStepContainerPushPage","deferredLoadComponent","fbicon","feedStoryLiveInsertUpdater","filterNulls","getDeferredComposerLogger","getDeferredComposerMutationDataTransformer","getDeferredComposerTransformer","getIsOptimisticPreviewEnabled","gkx","lazyLoadComponent","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","socialLearningModuleTitleValidator","stylex","useAfterPostForProductTagging","useCometActivityLogUpsellDialog","useCometRouterDispatcher","useComposerSubmit","useDefaultPrivacyCallout","useFeedComposerCometDialog","useFeedComposerFeaturesGKGated","useHandleErrorBySettingState","useResumableComposerViewState","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n,o=d("react");e=d("react");var aa=e.startTransition,p=e.useCallback,q=e.useMemo,ba=e.useRef,r=e.useState;e=c("requireDeferred")("GeminiComposerMarkdownTransform").__setRef("FeedComposerComet.react");var ca=c("requireDeferred")("cometComposerAMACreationLogger").__setRef("FeedComposerComet.react"),da=c("requireDeferred")("cometComposerDiscussionPostsCreationLogger").__setRef("FeedComposerComet.react"),ea=c("requireDeferred")("cometComposerInlineSproutsLogger").__setRef("FeedComposerComet.react"),fa=c("requireDeferred")("cometComposerLogger").__setRef("FeedComposerComet.react"),ga=c("requireDeferred")("cometComposerMediaUploadLogger").__setRef("FeedComposerComet.react"),ha=c("requireDeferred")("cometComposerQuiltsCreationLogger").__setRef("FeedComposerComet.react"),s=c("requireDeferred")("composerActivityMinutiaeTransform").__setRef("FeedComposerComet.react"),t=c("requireDeferred")("composerAttachmentAreaFeedTransform").__setRef("FeedComposerComet.react"),u=c("requireDeferred")("composerAudienceFeedTransform").__setRef("FeedComposerComet.react"),v=c("requireDeferred")("composerBrandedContentTransform").__setRef("FeedComposerComet.react"),w=c("requireDeferred")("composerFooterAttachmentAreaFeedTransform").__setRef("FeedComposerComet.react"),x=c("requireDeferred")("composerFormattedTextTransform").__setRef("FeedComposerComet.react"),y=c("requireDeferred")("composerGetMessagesTransform").__setRef("FeedComposerComet.react"),z=c("requireDeferred")("composerGratitudeTransform").__setRef("FeedComposerComet.react"),A=c("requireDeferred")("composerLocalAlertTransform").__setRef("FeedComposerComet.react"),B=c("requireDeferred")("composerLocationMinutiaeCreationDataTransform").__setRef("FeedComposerComet.react"),C=c("requireDeferred")("composerLocationMinutiaeMutationDataTransform").__setRef("FeedComposerComet.react"),D=c("requireDeferred")("composerPreAttachmentAreaFeedTransform").__setRef("FeedComposerComet.react"),E=c("requireDeferred")("composerTrackingTransform").__setRef("FeedComposerComet.react"),F=c("requireDeferred")("composerWithTagTransform").__setRef("FeedComposerComet.react"),G=c("requireDeferred")("fundraiserForStoryTransform").__setRef("FeedComposerComet.react"),H=c("requireDeferred")("socialLearningModuleForStoryTransform").__setRef("FeedComposerComet.react"),ia=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometComposerClientErrorMessage.react").__setRef("FeedComposerComet.react")),ja=c("lazyLoadComponent")(c("JSResourceForInteraction")("ProfileCometComposerFunFactsAttachmentArea.react").__setRef("FeedComposerComet.react")),ka=4e3,I={error:{marginBottom:"fi9g468h",marginEnd:"wkznzc2l",marginStart:"dhix69tm"},headerWithProgressBar:{position:"l9j0dhe7"}},J=c("filterNulls")([c("getDeferredComposerTransformer")(E),c("getDeferredComposerTransformer")(u),b("cr:1439"),c("getDeferredComposerTransformer")(F),c("getDeferredComposerTransformer")(s),{creationDataTransformer:c("getDeferredComposerTransformer")(B),mutationDataTransformer:c("getDeferredComposerMutationDataTransformer")(C)},c("getDeferredComposerTransformer")(x),c("getDeferredComposerTransformer")(D),c("getDeferredComposerTransformer")(w),c("getDeferredComposerTransformer")(G),c("composerRichTextTransformDeferred"),c("getDeferredComposerTransformer")(z),c("getDeferredComposerTransformer")(A),c("getDeferredComposerTransformer")(H)]),la=[c("getDeferredComposerTransformer")(t),c("getDeferredComposerTransformer")(v),c("getDeferredComposerTransformer")(y)].concat(c("gkx")("1941598")?[c("getDeferredComposerTransformer")(c("requireDeferred")("composerMultilingualPostTransform").__setRef("FeedComposerComet.react"))]:[],c("gkx")("1224637")?[c("getDeferredComposerTransformer")(e)]:[],J),ma={isGetMessagesPost:c("composerValidateGetMessagesMustContainMedia"),isGetWhatsAppMessagesPost:c("composerValidateGetWhatsAppMessagesMustContainMedia"),mediaLimit:c("cometComposerValidateMediaLimit"),mediaUpload:c("cometComposerValidateMediaUploadSuccess"),mle:c("composerValidateLifeEventPost"),newMediaItems:(E=b("cr:2196"))!=null?E:c("cometComposerValidateMediaUploadStarted"),photo3dAttachment:c("cometComposerValidatePhoto3dAttachment"),textLimit:c("cometComposerValidateStatusTextLength"),throwbackAttachment:c("composerValidateThrowbackAttachment"),titleValidator:c("socialLearningModuleTitleValidator")};function a(a,e){var f,g,s=a.beginningViewState,t=a.composer$key,u=a.composerEntryPointName,v=a.composerSourceSurface,w=a.composerType,x=a.defaultprivacy$key,y=a.headerComponent,z=a.isViewerFeed,A=a.onBeforeViewStateChange,B=a.onClose,C=a.onSave,D=a.onSaveError,E=a.onSubmit,F=a.privacySelectorRenderLocation,G=a.profile$key,H=a.pushedPageOnLoad,K=a.renderLocation;K=K===void 0?"homepage_stream":K;var L=a.scope$key,na=a.unalteredBeginningViewState;a=a.viewer$key;var M=d("CometRelay").useFragment(j!==void 0?j:j=b("FeedComposerComet_profile.graphql"),G);G=M.id;var N=c("useFeedComposerFeaturesGKGated")((f=s==null?void 0:s.useFeatureDefinitions)!=null?f:!1,{getMessages:{pageCategoryName:M==null?void 0:M.profile_plus_category_display_name,pageName:M==null?void 0:M.name},magicMediaUploads:{profile:M},mediaUploads:{profile:M},share:{composerType:w},woodhenge:{actorID:G}}),O=d("CometRelay").useFragment(k!==void 0?k:k=b("FeedComposerComet_composer.graphql"),t),P=d("CometRelay").useFragment(l!==void 0?l:l=b("FeedComposerComet_scope.graphql"),L);f=d("CometRelay").useRefetchableFragment(m!==void 0?m:m=b("FeedComposerComet_defaultprivacy.graphql"),x);var Q=f[0],oa=f[1],pa=d("CometRelay").useFragment(n!==void 0?n:n=b("FeedComposerComet_viewer.graphql"),a),qa=q(function(){var a;return d("ComposerDefaultPrivacyUtils").isDefaultPrivacyEnabled&&(Q==null?void 0:(a=Q.default_privacy_user)==null?void 0:a.has_opt_in)===!1},[Q==null?void 0:(t=Q.default_privacy_user)==null?void 0:t.has_opt_in]);x=q(function(){var a;return(Q==null?void 0:(a=Q.default_privacy_user)==null?void 0:a.has_opt_in)===!0||(s==null?void 0:s.gratitudeMetadata)!=null},[Q==null?void 0:(L=Q.default_privacy_user)==null?void 0:L.has_opt_in,s==null?void 0:s.gratitudeMetadata]);f=r(!1);var R=f[0],S=f[1];a=c("useHandleErrorBySettingState")();var T=a[0],ra=a[1],sa=ba(null);t=q(function(){return{errorMetadata:T,isSaving:R}},[T,R]);var ta=function(a){aa(function(){oa({},{fetchPolicy:"network-only"})})};L=r(!1);var U=L[0],ua=L[1],va=c("useCometRouterDispatcher")();f=c("useResumableComposerViewState")();var wa=f.clearResumableViewState,xa=f.getResumableViewState,V=f.saveResumableViewState;a=p(function(a){V(a)},[V]);L=c("useFeedComposerCometDialog")({composerEntryPointName:u,composerSourceSurface:v,composerType:"feed",onBeforeClose:a,onSave:C,profileID:G,tracePolicy:"comet.composer.editFeedPost"});var ya=L[0],za=c("useAfterPostForProductTagging")(M.has_taggable_products===!0,M.is_product_tagging_apux_snoozed,w),W=c("useCometActivityLogUpsellDialog")(),Aa=p(function(a,b){var c;c=(c=xa())!=null?c:void 0;wa();ya({beginningViewState:c});a!=null&&(b!=null&&b!==""&&a.expire(b))},[wa,xa,ya]);f=p(function(){S(!1)},[]);a=p(function(){S(!1)},[]);L=p(function(a,b){var e,f;e=c("getIsOptimisticPreviewEnabled")({viewStateMediaData:(e=b==null?void 0:b.mediaAttachments)!=null?e:[]});((b==null?void 0:b.disableOptimisticMediaPost)===!0||!e)&&(B&&B(b,a));(a.story_create&&a.story_create.story==null&&a.story_create.story_id!=null||a!=null&&a.story_edit!=null&&((e=a.story_edit)==null?void 0:e.story)==null)&&Ca();C&&C(a.story_create?(e=a.story_create)==null?void 0:(e=e.story)==null?void 0:e.url:null);e=a.story_create&&((e=a.story_create)==null?void 0:(e=e.story)==null?void 0:e.id);var g=za(e,b);f=(f=M.delegate_page)==null?void 0:f.id;if(U&&a.story_create&&f!=null){var h;h=(h=a.story_create)==null?void 0:(h=h.story)==null?void 0:h.legacy_story_hideable_id;var i=!1;if(h==null){h=(a=a.story_create)==null?void 0:a.post_id;h!=null&&(i=!0)}h==null?c("recoverableViolation")("No postID/story when boosting from composer!","pages_lwi"):d("LWICometComposerUtils").boostFromComposer(va,f,h,i,"www_profile_plus_feed_composer")}if(U===!1&&g===!1&&e!==null){f=b==null?void 0:(a=b.majorLifeEvent)==null?void 0:a.lifeEventTypeIdentifier;f==="STARTED_JOB"?W("new_job_dialog"):f==="GRADUATED"&&(b==null?void 0:(h=b.majorLifeEvent)==null?void 0:h.taggedSchoolType)==="COLLEGE"?W("college_graduation_dialog",M.short_name):W("new_post_dialog")}},[C,za,M,U,B,va,W]);function Ba(a,b){a=a==null?h._(/*FBT_CALL*/"Something went wrong. Please try posting again later."/*FBT_CALL*/):o.jsx(c("ServerHTML.react"),{blob:a});V(b);var e=c("BaseToasterStateManager").getInstance();b=o.jsx(c("TetraIcon.react"),{"aria-label":h._(/*FBT_CALL*/"Edit"/*FBT_CALL*/),color:"white",icon:d("fbicon")._(i("477826"),20),onPress:function(){return Aa(e,f)}});var f=d("cometPushToast").cometPushToast({icon:b,message:a,onPress:function(){return Aa(e,f)},testid:"CometStoriesReshareToast",truncateText:!1},Infinity,e)}function Ca(){var a=h._(/*FBT_CALL*/"Your post is being processed. We\u2019ll let you know when it's ready to view."/*FBT_CALL*/),b=c("BaseToasterStateManager").getInstance();sa.current=d("cometPushToast").cometPushToast({message:a,testid:"FeedCometVideoOptimisticPostingToast"},ka,b)}var X=function(a,b){var e;ra(a);D&&D();e=c("getIsOptimisticPreviewEnabled")({viewStateMediaData:(e=b==null?void 0:b.mediaAttachments)!=null?e:[]});if((b==null?void 0:b.disableOptimisticMediaPost)===!0||!e)S(!1);else{e=d("SilenceableErrorMessageUtils").getMetadataFromError(a);e&&!d("SilenceableErrorMessageUtils").shouldHideErrorMessage(e)&&Ba(e.message,b)}},Y=(g=s==null?void 0:s.creationSessionID)!=null?g:c("uuid")(),Da=c("useComposerSubmit")({actorID:G,composerEntryPoint:u,composerSourceSurface:v,composerType:w,creationSessionID:Y,featureDefinitions:N==null?void 0:N.current,onCompleted:L,onError:X,optimisticTransformers:J,optimisticUpdater:function(a,b){return c("feedStoryLiveInsertUpdater")(a,b)},requestType:"FEED",transformers:la,unalteredBeginningViewState:na,updater:c("feedStoryLiveInsertUpdater"),variables:{UFI2CommentsProvider_commentsKey:"CometModernHomeFeedQuery",creationSessionID:Y,feedbackSource:1,feedLocation:"NEWSFEED",renderLocation:K,useCometPhotoViewerPlaceholderFrag:c("gkx")("686")}});g=p(function(a){var b;S(!0);E&&E();b=c("getIsOptimisticPreviewEnabled")({viewStateMediaData:(b=a==null?void 0:a.mediaAttachments)!=null?b:[]});b&&a.disableOptimisticMediaPost!==!0&&(B&&B());Da(a)},[B,Da,E]);u=function(){return S(!0)};v={attachments:c("cometComposerAttachmentsEligibilityChecker"),discussionPost:c("cometComposerDiscussionPostEligibilityChecker"),footerAttachments:d("cometComposerFooterAttachmentsEligibilityChecker").cometComposerFooterAttachmentsEligibilityChecker,formattedText:c("cometComposerFormattedTextEligibilityChecker"),mle:c("cometComposerMajorLifeEventsEligibilityChecker"),tagger:c("cometComposerTaggerEligibilityChecker")};L=[c("getDeferredComposerLogger")(fa),c("getDeferredComposerLogger")(ga),c("getDeferredComposerLogger")(ca),c("getDeferredComposerLogger")(ea),c("getDeferredComposerLogger")(ha),c("getDeferredComposerLogger")(da)];var Ea=(X=b("cr:1575126"))!=null?X:o.Fragment;K=c("useDefaultPrivacyCallout")();X=K.calloutRef;var Z=K.handleIPSResult,Fa=K.handleNuxAutoOptIn;K=[o.jsx(c("CometComposerIPSPlugin.react"),{cometComposerIPSPlugin_viewer$key:pa,onIPSClosedWithSelection:Z,scopeRef:P},"ipsPlugin")];var Ga=((s==null?void 0:s.mediaAttachments)||[]).length>0,Ha=o.jsx("div",{ref:X,children:o.jsx(c("CometComposerPrivacyScope.react"),{plugins:K,privacySelectorRenderLocation:F,scope:P,shouldRestorePrivacyFromDraftState:x,title:d("ComposerDefaultPrivacyUtils").isDefaultPrivacyEnabled?h._(/*FBT_CALL*/"Post audience"/*FBT_CALL*/):null})}),$=(Z=s==null?void 0:s.socialLearningModule)!=null?Z:!1;X=null;(M==null?void 0:(K=M.delegate_page)==null?void 0:K.show_prefilled_blood_donation_attachment)===!0&&(s==null?void 0:(F=s.footerAttachmentArea)==null?void 0:F.activeFooterAttachmentType)==null&&(s==null?void 0:s.isDirty)!==!0&&(X=babelHelpers["extends"]({},s==null?void 0:s.footerAttachmentArea,{activeFooterAttachmentType:c("CometComposerFooterAttachmentPluginTypes").BLOOD_DONATIONS}));return o.jsx(c("CometComposerOnSubmitContext").Provider,{value:t,children:o.jsx(c("CometComposer.react"),{beginningViewState:babelHelpers["extends"]({},s,{creationSessionID:Y,footerAttachmentArea:(x=X)!=null?x:s==null?void 0:s.footerAttachmentArea}),eligibilityCheckers:v,lexicalValidationHooks:b("cr:1181"),loggers:L,onBeforeViewStateChange:A,onSubmitCommit:g,onSubmitHalt:f,onSubmitStart:u,onValidationErrors:a,ref:e,target:{id:G,type:d("TCometComposerTarget").ComposerTargetType.Feed},testid:void 0,unalteredBeginningViewState:na,validators:ma,children:function(a){var e,f=o.jsxs(o.Fragment,{children:[b("cr:213")!=null?o.jsxs("div",{className:c("stylex")(I.headerWithProgressBar),children:[o.jsx(b("cr:213"),{}),y]}):y,o.jsxs(c("CometPlaceholder.react"),{fallback:o.jsx(c("CometComposerMinutiaeBarLoading.react"),{}),children:[o.jsx(c("CometHero.react"),{description:"MinutiaeBar"}),b("cr:10961")!=null?o.jsx(b("cr:10961"),{privacySelector:Ha,profile$key:M}):o.jsx(d("CometRelay").MatchContainer,{match:O.can_viewer_see_workplace_minutiae_bar,props:{privacySelector:Ha}})]}),qa?o.jsx(c("CometDefaultPrivacyNux.react"),{defaultPrivacyRef:Q,onAutoOptIn:Fa,onClose:B,onPrivacyChange:ta,scopeRef:P}):null,o.jsx(c("CometComposerPreAttachmentArea.react"),{children:function(a){switch(a){case"FUN_FACT":return o.jsx(ja,{})}return null}}),$?o.jsx(c("SocialLearningComposerModuleTitleInput.react"),{}):null]}),g=o.jsx(c("FeedComposerCometBody.react"),{__CAN_USE_LEXICAL_RUNTIME_CHECK__:s==null?void 0:s.__CAN_USE_LEXICAL_RUNTIME_CHECK__,autoFocus:!$,composerType:w,creationSessionID:Y,featureDefinitions:N==null?void 0:N.current,isViewerFeed:z,onClose:B,placeholderText:s==null?void 0:s.placeholderTextOverride,profile$key:M,submitForm:a,viewer$key:pa}),i=o.jsxs(o.Fragment,{children:[b("cr:1786994")!=null&&o.jsx(b("cr:1786994"),{}),c("FeedComposerCometToolbar.react")&&o.jsx(c("FeedComposerCometToolbar.react"),{composer:O,composerType:w,creationSessionID:Y,hasMediaAttachment:Ga,onClose:B,pushedPageOnLoad:H}),(M==null?void 0:(e=M.delegate_page)==null?void 0:e.id)!=null&&(M==null?void 0:(e=M.delegate_page)==null?void 0:e.id)!==0&&(M==null?void 0:(e=M.delegate_page)==null?void 0:(e=e.profile_plus_for_delegate_page)==null?void 0:e.profile_plus_is_eligible_for_lwi)===!0&&b("cr:741")!=null?o.jsx(b("cr:741"),{boostAfterPosting:U,setBoostAfterPosting:ua}):null,M.publishing_tool_banner_profile!=null&&!$?o.jsx(c("CometPlaceholder.react"),{fallback:null,children:o.jsx(d("CometRelay").MatchContainer,{match:M.publishing_tool_banner_profile,props:{mediaAttachments:{},page:M.publishing_tool_banner_profile,videoLiteComposerEligible:!1}})}):null,o.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:156,children:o.jsx(c("FeedCometComposerSubmitButtonsFooter.react"),{composer$key:O,onPressPost:a,storyID:s==null?void 0:s.storyID})}),o.jsx(c("CometComposerFooterAddOn.react"),{sessionID:Y}),o.jsx(c("CometComposerServerErrorMessage.react"),{errorMetadata:T,xstyle:I.error}),o.jsx(ia,{xstyle:I.error})]});return o.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return o.jsx(c("CometComposerPushPageContext").Provider,{value:c("decorateMultiStepContainerPushPage")(a,N==null?void 0:N.current),children:o.jsx(c("CometComposerMediaDropTarget.react"),{children:o.jsxs(Ea,{children:[o.jsx(c("CometHero.react"),{description:"Composer"}),b("cr:10962")!=null?o.jsx(b("cr:10962"),{body:g,composer:O==null?void 0:O.can_viewer_see_workplace_toolbar_sprouts,footer:i,header:f}):o.jsx(b("cr:1606271"),{header:f,body:g,footer:i}),R?o.jsx(c("CometComposerSavingIndicatorMask.react"),{body:(s==null?void 0:s.storyID)?h._(/*FBT_CALL*/"Saving"/*FBT_CALL*/):h._(/*FBT_CALL*/"Posting"/*FBT_CALL*/)}):null]})})})}})}},Y)})}a.displayName=a.name+" [from "+f.id+"]";u=o.forwardRef(a);g["default"]=u}),98);
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.b)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return a[1]&&c.i64.eq(a[6],[0,0])?c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({f:!1})}):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(e){return d[6]=a[3]==null?[-2147483648,0]:a[3],d[7]=a[6]==null?[0,1]:a[6],d[8]=c.i64.gt(d[7],[0,1])&&c.i64.gt(d[6],[-2147483648,0]),c.sp(b("LSGetCursor"),[0,1]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("is_after",a[2]),d[1].set("parent_thread_key",a[0]),d[1].set("reference_thread_key",a[2]?a[4]:a[3]),d[1].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[1].set("additional_pages_to_fetch",a[7]),d[1].set("cursor",d[0]),d[1].set("messaging_tag",f),c.i64.gt([0,0],[0,0])?d[2]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[2]=[0,0],d[3]=c.toJSON(d[1]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",[0,145],d[3],f,f,[0,0],f).then(function(a){return a=a,d[4]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({a:a[0],b:d[6],c:d[7],e:[0,1],d:[-2147483648,0],f:d[8],g:!1,h:d[8],i:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({f:!0,g:!1,h:d[8],i:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}e.exports=a}),null);